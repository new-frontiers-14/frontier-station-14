# region base
- type: entity
  abstract: true
  id: NFBaseStructureWallTrophy
  suffix: Frontier
  description: "A wall-mounted frame for showcasing the achievements of your parents' favorite child."
  placement:
    mode: SnapgridCenter
    snap:
    - Wallmount
  components:
  - type: Sprite
    sprite: _NF/Structures/Wallmounts/trophies.rsi
    drawdepth: WallTops
    snapCardinals: false
  - type: WallMount
    arc: 200
  - type: Rotatable
  - type: Clickable
  - type: InteractionOutline
  - type: Transform
    anchored: true
  - type: Physics
    bodyType: Static
    canCollide: false
  - type: Fixtures
    fixtures: {}
  - type: ItemSlots
    slots:
      trophy:
        name: Trophy
        startingItem: null
        whitelist:
          tags:
          - NFTreasureHeadDinosaurAnki
          - NFTreasureHeadDinosaurCompy
          - NFTreasureHeadDinosaurDilo
          - NFTreasureHeadDinosaurKentro
          - NFTreasureHeadDinosaurPara
          - NFTreasureHeadDinosaurRaptor
          - NFTreasureHeadDinosaurSpino
          - NFTreasureHeadDinosaurStego
          - NFTreasureHeadDinosaurTrex
          - NFTreasureHeadDinosaurTrike
  - type: ContainerContainer
    containers:
      trophy: !type:ContainerSlot
  # I'll do anything to avoid fiddling with construction graphs
  - type: Appearance
  - type: ItemMapper
    mapLayers:
      head-anki:
        whitelist:
          tags: [ NFTreasureHeadDinosaurAnki ]
      head-compy:
        whitelist:
          tags: [ NFTreasureHeadDinosaurCompy ]
      head-dilo:
        whitelist:
          tags: [ NFTreasureHeadDinosaurDilo ]
      head-kentro:
        whitelist:
          tags: [ NFTreasureHeadDinosaurKentro ]
      head-para:
        whitelist:
          tags: [ NFTreasureHeadDinosaurPara ]
      head-raptor:
        whitelist:
          tags: [ NFTreasureHeadDinosaurRaptor ]
      head-spino:
        whitelist:
          tags: [ NFTreasureHeadDinosaurSpino ]
      head-stego:
        whitelist:
          tags: [ NFTreasureHeadDinosaurStego ]
      head-trex:
        whitelist:
          tags: [ NFTreasureHeadDinosaurTrex ]
      head-trike:
        whitelist:
          tags: [ NFTreasureHeadDinosaurTrike ]
    sprite: _NF/Structures/Wallmounts/trophies.rsi

# region frames
- type: entity
  parent: NFBaseStructureWallTrophy
  id: NFStructureWallTrophyFrameWood
  name: wooden trophy mount
  components:
  - type: Sprite
    layers:
    - state: shield-frame
      color: "#844b27" # "wood"
    - state: shield-velvet
      color: "#2d4877" # "fancy blue table"
  - type: Damageable
    damageContainer: Inorganic
    damageModifierSet: Wood
  - type: Destructible
    thresholds:
    - trigger:
        !type:DamageTrigger
        damage: 100
      behaviors:
      - !type:EmptyAllContainersBehaviour
      - !type:DoActsBehavior
        acts: ["Destruction"]
      - !type:PlaySoundBehavior
        sound:
          collection: WoodDestroy
      - !type:SpawnEntitiesBehavior
        spawn:
          MaterialWoodPlank:
            min: 1
            max: 2
          MaterialCloth:
            min: 0
            max: 1
  - type: Construction
    graph: NFStructureWallTrophyFrame
    node: NFStructureWallTrophyFrameWood
  - type: StaticPrice
    price: 25

- type: entity
  parent: NFBaseStructureWallTrophy
  id: NFStructureWallTrophyFrameBrass
  name: brass trophy mount
  components:
  - type: Sprite
    layers:
    - state: shield-frame
      color: "#b18b25" # "Brass"
    - state: shield-velvet
      color: "#1f5f41" # "fancy green table"
  - type: Damageable
    damageContainer: Inorganic
  - type: Destructible
    thresholds:
    - trigger:
        !type:DamageTrigger
        damage: 150
      behaviors:
      - !type:EmptyAllContainersBehaviour
      - !type:DoActsBehavior
        acts: ["Destruction"]
      - !type:PlaySoundBehavior
        sound:
          collection: WoodDestroy
      - !type:SpawnEntitiesBehavior
        spawn:
          SheetBrass:
            min: 0
            max: 1
          MaterialCloth:
            min: 0
            max: 1
  - type: Construction
    graph: NFStructureWallTrophyFrame
    node: NFStructureWallTrophyFrameBrass
  - type: StaticPrice
    price: 15

- type: entity
  parent: NFBaseStructureWallTrophy
  id: NFStructureWallTrophyFrameSilver
  name: silver trophy mount
  components:
  - type: Sprite
    layers:
    - state: shield-frame
      color: "#dcdcdc" # "Silver"
    - state: shield-velvet
      color: "#9b3170" # "fancy pink table"
  - type: Damageable
    damageContainer: Inorganic
  - type: Destructible
    thresholds:
    - trigger:
        !type:DamageTrigger
        damage: 100
      behaviors:
      - !type:EmptyAllContainersBehaviour
      - !type:DoActsBehavior
        acts: ["Destruction"]
      - !type:PlaySoundBehavior
        sound:
          collection: WoodDestroy
      - !type:SpawnEntitiesBehavior
        spawn:
          SheetPlasteel:
            min: 0
            max: 1
          MaterialCloth:
            min: 0
            max: 1
  - type: Construction
    graph: NFStructureWallTrophyFrame
    node: NFStructureWallTrophyFrameSilver
  - type: StaticPrice
    price: 20

- type: entity
  parent: NFBaseStructureWallTrophy
  id: NFStructureWallTrophyFrameGold
  name: golden trophy mount
  components:
  - type: Sprite
    layers:
    - state: shield-frame
      color: "#ffc20e" # "Gold"
    - state: shield-velvet
      color: "#5a2355" # "fancy purple table"
  - type: Damageable
    damageContainer: Inorganic
  - type: Destructible
    thresholds:
    - trigger:
        !type:DamageTrigger
        damage: 100
      behaviors:
      - !type:EmptyAllContainersBehaviour
      - !type:DoActsBehavior
        acts: ["Destruction"]
      - !type:PlaySoundBehavior
        sound:
          collection: WoodDestroy
      - !type:SpawnEntitiesBehavior
        spawn:
          SheetPlasteel:
            min: 0
            max: 1
          MaterialCloth:
            min: 0
            max: 1
  - type: Construction
    graph: NFStructureWallTrophyFrame
    node: NFStructureWallTrophyFrameGold
  - type: StaticPrice
    price: 25
