- type: entity
  id: MachineCryoSleepPod
  parent: [BaseStructureDisableToolUse, BaseStructureIndestructible, BaseMachine]
  name: cryo sleep chamber
  description: Cold pillow, guaranteed.
  components:
  - type: Sprite
    netsync: false
    sprite: _NF/Structures/Machines/cryopod.rsi
    layers:
    - state: closed
  - type: Physics
    bodyType: Static
  - type: Fixtures
    fixtures:
      fix1:
        shape:
          !type:PhysShapeAabb
          bounds: "-0.45,-0.45,0.45,0.45"
        density: 190
        mask:
        - MachineMask
        layer:
        - MobLayer # To allow people to pass through
  - type: MaterialStorage
  - type: Appearance
  - type: Climbable
  - type: CryoSleep
  - type: ContainerContainer
    containers:
      body_container: !type:ContainerSlot

# WIP for a medical bounty reclaimer machine
- type: entity
  parent: [BaseStructureDisableToolUse, BaseStructureIndestructible, BaseMachine]
  id: MachineMedicalBountyRedemption
  name: body retrieval unit
  description: A teleporter to return lost bodies with bounties on them. Dispenses cash on teleport.
  components:
  - type: Sprite
    noRot: true
    sprite: Structures/cryostorage.rsi # TODO: sprites
    layers:
    - state: sleeper_0
      map: ["base"]
  - type: UserInterface
    interfaces:
      enum.MedicalBountyRedemptionUiKey.Key:
        type: MedicalBountyRedemptionBoundUserInterface
  - type: ActivatableUI
    key: enum.MedicalBountyRedemptionUiKey.Key
  - type: InteractionOutline
  - type: Physics
    bodyType: Static
  - type: Fixtures
    fixtures:
      fix1:
        shape:
          !type:PhysShapeAabb
          bounds: "-0.45,-0.45,0.45,0.45"
        density: 190
        mask:
        - MachineMask
        layer:
        - MobLayer # To allow people to pass through
  - type: DragInsertContainer
    containerId: body_container
  - type: ExitContainerOnMove
    containerId: body_container
  - type: ContainerContainer
    containers:
      body_container: !type:ContainerSlot
  - type: MedicalBountyRedemption
    bodyContainer: body_container
  # - type: Appearance # TODO: implement with client-side code (UI, visualizer)
  # - type: GenericVisualizer
  #   visuals:
  #     enum.MedicalBountyVisuals.Full:
  #       base:
  #         True: { state: sleeper_1 }
  #         False: { state: sleeper_0 }
