#region Clutter
- type: entityTable
  id: TableDungeonLootEngineeringClutter
  table: !type:GroupSelector
    children:
    - !type:NestedSelector
      tableId: TableDungeonLootEngineeringTools
      weight: 3
    - !type:NestedSelector
      tableId: TableDungeonLootEngineeringParts
      weight: 4
    - !type:NestedSelector
      tableId: TableDungeonLootEngineeringClothes
      weight: 1
    - !type:NestedSelector
      tableId: TableDungeonLootEngineeringCircuitBoards
      weight: 1
    - !type:NestedSelector
      tableId: TableDungeonLootEngineeringToolboxes
      weight: 0.5
    - !type:NestedSelector
      tableId: TableDungeonLootEngineeringFlatpacks
      weight: 0.4
    - !type:NestedSelector
      tableId: TableDungeonLootGeneralRestocks
      weight: 0.1
    - !type:NestedSelector
      tableId: TableDungeonLootGeneralMaterialBasicSingle
      weight: 1
    - !type:NestedSelector
      tableId: TableDungeonLootGeneralMaterialValuableSingle
      weight: 1

#region Tools
- type: entityTable
  id: TableDungeonLootEngineeringTools
  table: !type:GroupSelector
    children:
    - !type:NestedSelector
      tableId: TableDungeonLootEngineeringPowerDrill
      weight: 16
    - !type:NestedSelector
      tableId: TableDungeonLootEngineeringJawsOfLife
      weight: 16
    - !type:NestedSelector
      tableId: TableDungeonLootEngineeringWelder
      weight: 14
    - !type:NestedSelector
      tableId: TableDungeonLootEngineeringHoloprojector
      weight: 6
    - !type:NestedSelector
      tableId: TableDungeonLootEngineeringToolsRare
      weight: 6
    - !type:NestedSelector
      tableId: TableDungeonLootEngineeringToolsCommon
      weight: 16
    - !type:NestedSelector
      tableId: TableDungeonLootGeneralHandheldDisplays
      weight: 6
    - !type:NestedSelector
      tableId: TableDungeonLootEngineeringToolboxes
      weight: 10
    - !type:GroupSelector
      weight: 10
      children:
      - !type:NestedSelector
        tableId: TableDungeonLootGeneralLighters
        weight: 20
      - !type:NestedSelector
        tableId: TableDungeonLootGeneralFlashlights
        weight: 60
      - !type:NestedSelector
        tableId: TableDungeonLootGeneralFlares
        weight: 20

- type: entityTable
  id: TableDungeonLootEngineeringPowerDrill
  table: !type:GroupSelector
    children:
    - id: Screwdriver
      weight: 30
    - id: Wrench
      weight: 30
    - id: PowerDrill
      weight: 40

- type: entityTable
  id: TableDungeonLootEngineeringJawsOfLife
  table: !type:GroupSelector
    children:
    - id: Wirecutter
      weight: 30
    - id: Crowbar
      weight: 30
    - id: JawsOfLife
      weight: 40

- type: entityTable
  id: TableDungeonLootEngineeringWelder
  table: !type:GroupSelector
    children:
      - id: WelderMini
        weight: 5
      - id: Welder
        weight: 5
      - id: Cowelder
        weight: 5
      - id: RefuelingWelder
        weight: 30
      - id: WelderIndustrial
        weight: 15
      - id: WelderIndustrialAdvanced
        weight: 10
      - id: WelderExperimental
        weight: 30

- type: entityTable
  id: TableDungeonLootEngineeringSprayPainter
  table: !type:GroupSelector
    children:
    - id: SprayPainter
      weight: 95
    - id: SprayPainterMagic
      weight: 5

- type: entityTable
  id: TableDungeonLootEngineeringHoloprojector
  table: !type:GroupSelector
    children:
    - id: HolofanProjector
      weight: 90
    - id: HoloprojectorField
      weight: 10

- type: entityTable
  id: TableDungeonLootEngineeringToolsRare
  table: !type:GroupSelector
    children:
    - id: RPED
    - !type:AllSelector
      children:
      - id: ShipyardRCD
      - id: ShipyardRCDAmmo
      rolls: !type:RangeNumberSelector
        range: 1, 3

- type: entityTable
  id: TableDungeonLootEngineeringToolsCommon
  table: !type:GroupSelector
    children:
    - !type:GroupSelector
      children:
      - id: Multitool
        weight: 70
      - id: NetworkConfigurator
        weight: 30
    # Assorted devices
    - id: trayScanner
    - id: GasAnalyzer
    - id: GasDepositLocator
    - id: GeigerCounter
    - id: AppraisalTool
    - id: RadioHandheldNF
    - !type:GroupSelector # TODO: maybe split and move to clothes
      children:
      - id: ClothingEyesGlassesMeson
        weight: 70
      - id: ClothingEyesHudDiagnostic
        weight: 20
      - id: ClothingEyesGlassesThermal
        weight: 10

- type: entityTable
  id: TableDungeonLootEngineeringToolboxes
  table: !type:GroupSelector
    children:
    # spawn probabilities skewed towards empty toolboxes to reduce entity spam
    # Electrical
    - !type:GroupSelector
      weight: 32
      children:
      - id: ToolboxElectricalFilled
        weight: 20
      - id: ToolboxElectrical
        weight: 80
    # Emergency
    - !type:GroupSelector
      weight: 32
      children:
      - id: ToolboxEmergencyFilled
        weight: 20
      - id: ToolboxEmergency
        weight: 80
    # Mechanical
    - !type:GroupSelector
      weight: 32
      children:
      - id: ToolboxMechanicalFilledAllTools
        weight: 15
      - id: ToolboxMechanicalFilled
        weight: 15
      - id: ToolboxMechanical
        weight: 70
    # Trap
    - !type:GroupSelector
      weight: 4
      children:
      - id: NFToolboxMineCryo
      - id: NFToolboxMineExplosive
      - id: NFToolboxMineFire
# Commented out: buy it from your local SyndiVend
#    # Syndicate
#    - !type:GroupSelector
#      children:
#      - id: ToolboxSyndicateFilled
#        weight: 20
#      - id: ToolboxSyndicate
#        weight: 80

#region Parts
- type: entityTable
  id: TableDungeonLootEngineeringParts
  table: !type:GroupSelector
    children:
    - !type:NestedSelector
      tableId: TableDungeonLootEngineeringCapacitors
      weight: 30
    - !type:NestedSelector
      tableId: TableDungeonLootEngineeringManipulators
      weight: 30
    - !type:NestedSelector
      tableId: TableDungeonLootEngineeringMatterBins
      weight: 30
    - !type:NestedSelector
      tableId: TableDungeonLootEngineeringPowerCells
      weight: 10
    - !type:NestedSelector
      tableId: TableDungeonLootEngineeringCraftingComponents
      weight: 30

- type: entityTable
  id: TableDungeonLootEngineeringCapacitors
  table: !type:GroupSelector
    rolls: !type:RangeNumberSelector
      range: 4, 6
    children:
    - id: CapacitorStockPart
      weight: 10
    - id: AdvancedCapacitorStockPart
      weight: 30
    - id: SuperCapacitorStockPart
      weight: 40
    - id: QuadraticCapacitorStockPart
      weight: 20

- type: entityTable
  id: TableDungeonLootEngineeringManipulators
  table: !type:GroupSelector
      rolls: !type:RangeNumberSelector
        range: 4, 6
      children:
      - id: MicroManipulatorStockPart
        weight: 10
      - id: NanoManipulatorStockPart
        weight: 30
      - id: PicoManipulatorStockPart
        weight: 40
      - id: FemtoManipulatorStockPart
        weight: 20

- type: entityTable
  id: TableDungeonLootEngineeringMatterBins
  table: !type:GroupSelector
    rolls: !type:RangeNumberSelector
      range: 4, 6
    children:
    - id: MatterBinStockPart
      weight: 10
    - id: AdvancedMatterBinStockPart
      weight: 30
    - id: SuperMatterBinStockPart
      weight: 40
    - id: BluespaceMatterBinStockPart
      weight: 20

- type: entityTable
  id: TableDungeonLootEngineeringPowerCells
  table: !type:GroupSelector
      children:
      - id: PowerCellPotato
        weight: 5
      - id: PowerCellSmall
        weight: 5
      - id: PowerCellMedium
        weight: 20
      - id: PowerCellHigh
        weight: 20
      - id: PowerCellHyper
        weight: 35
      - id: PowerCellMicroreactor
        weight: 10
      - id: PowerCellAntiqueProto
        weight: 5

- type: entityTable
  id: TableDungeonLootEngineeringCraftingComponents
  table: !type:GroupSelector
    children:
    - !type:GroupSelector
      children:
      - id: RemoteSignaller
        weight: 30
      - id: RemoteSignallerAdvanced
        weight: 70
    - id: ProximitySensor
    - id: Igniter
    - id: VoiceTrigger
    - id: TimerTrigger
    - id: SignalTrigger
    - id: SciFlash
    - id: DrinkSpaceLube
    - id: DrinkSpaceGlue

# region Circuit Boards
- type: entityTable # TODO: maybe split into multiple tables
  id: TableDungeonLootEngineeringCircuitBoards
  table: !type:GroupSelector
    children:
    # Lathes
    - !type:GroupSelector
      children:
      - id: AutolatheMachineCircuitboard
        weight: 30
      - id: AutolatheHyperConvectionMachineCircuitboard
        weight: 70
    - !type:GroupSelector
      children:
      - id: ProtolatheMachineCircuitboard
        weight: 30
      - id: ProtolatheHyperConvectionMachineCircuitboard
        weight: 70
    - id: CircuitImprinterMachineCircuitboard
    - id: EngineeringTechFabCircuitboard
    - id: FlatpackerMachineCircuitboard
    - id: CutterMachineCircuitboard
    # Machines
    - !type:GroupSelector
      children:
      - id: ThermomachineHeaterMachineCircuitBoard
        weight: 30
      - id: HellfireHeaterMachineCircuitBoard
        weight: 70
    - !type:GroupSelector
      children:
      - id: ThermomachineFreezerMachineCircuitBoard
        weight: 30
      - id: HellfireFreezerMachineCircuitBoard
        weight: 70
    - !type:GroupSelector
      children:
      - id: PortableGeneratorJrPacmanMachineCircuitboard
        weight: 5
      - id: PortableGeneratorPacmanMachineCircuitboard
        weight: 10
      - id: PortableGeneratorSuperPacmanMachineCircuitboard
        weight: 15
      - id: PortableGeneratorDKJrMachineCircuitboard
        weight: 20
      - id: PortableGeneratorDKMachineCircuitboard
        weight: 25
    - id: ShredderMachineCircuitboard
    - id: SpaceHeaterMachineCircuitBoard
    - id: PortableScrubberMachineCircuitBoard
    - id: PortablePumpMachineCircuitBoard
    - id: CondenserMachineCircuitBoard
    - id: TurboItemRechargerCircuitboard
    - id: GyroscopeMachineCircuitboard
    - id: MiniGravityGeneratorCircuitboard
    - id: ThrusterMachineCircuitboard
    - id: SmallThrusterMachineCircuitboard
    - id: StationMapCircuitboard
    - id: MaterialSiloMachineCircuitboard
    # Computers
    - !type:GroupSelector
      children:
      - id: PowerComputerCircuitboard
      - id: SolarControlComputerCircuitboard
      - id: AlertsComputerCircuitboard
      - id: ComputerIFFCircuitboard
        weight: 0.1

#region Clothes
# this is mostly just clutter for flavor
- type: entityTable
  id: TableDungeonLootEngineeringClothes
  table: !type:GroupSelector
    children:
    - !type:NestedSelector
      tableId: TableDungeonLootEngineeringClothesBags
      weight: 40
    - !type:NestedSelector
      tableId: TableDungeonLootEngineeringClothesHats
      weight: 5
    - !type:NestedSelector
      tableId: TableDungeonLootEngineeringClothesJumpsuits
      weight: 20
    - !type:NestedSelector
      tableId: TableDungeonLootEngineeringClothesJackets
      weight: 15
    - !type:NestedSelector
      tableId: TableDungeonLootEngineeringClothesBoots
      weight: 5
    - !type:NestedSelector
      tableId: TableDungeonLootEngineeringClothesBelts
      weight: 15
    - !type:GroupSelector
      weight: 15
      children:
      - !type:NestedSelector
        tableId: TableDungeonLootEngineeringEvas
      - !type:NestedSelector
        tableId: TableDungeonLootEngineeringHardsuits

- type: entityTable
  id: TableDungeonLootEngineeringClothesBags
  table: !type:GroupSelector
    children:
    - id: ClothingBackpackDuffelEngineering
      weight: 3
    - id: ClothingBackpackMessengerEngineering
      weight: 2
    - id: ClothingBackpackEngineering
      weight: 2
    - id: ClothingBackpackSatchelEngineering
      weight: 2
    - !type:GroupSelector
      weight: 0.5
      children:
      - id: NFPouchEngineering
      - id: NFPouchUtility

- type: entityTable
  id: TableDungeonLootEngineeringClothesBelts
  table: !type:GroupSelector
    children:
    # spawn probabilities skewed towards empty belts to reduce entity spam
    - !type:GroupSelector
      weight: 20
      children:
      - id: ClothingBeltUtility
        weight: 70
      - id: ClothingBeltUtilityFilled
        weight: 10
      - id: ClothingBeltUtilityEngineering
        weight: 20
    - !type:GroupSelector
      weight: 20
      children:
      - id: ClothingBeltChiefEngineer
        weight: 70
      - id: ClothingBeltChiefEngineerFilledBasic
        weight: 10
      - id: ClothingBeltChiefEngineerFilled
        weight: 20
    - !type:GroupSelector
      weight: 10
      children:
      - id: ConstructionBag
        weight: 95
      - id: ConstructionBagOfHolding
        weight: 5

- type: entityTable
  id: TableDungeonLootEngineeringClothesHats
  table: !type:GroupSelector
    children:
    - id: ClothingHeadHatHardhatYellow
      weight: 4
    - id: ClothingHeadHatHardhatYellowDark
      weight: 4
    - id: ClothingHeadHatHardhatBlue
      weight: 4
    - id: ClothingHeadHatHardhatOrange
      weight: 2
    - id: ClothingHeadHatHardhatRed
      weight: 2
    - id: ClothingHeadHatHardhatWhite
      weight: 0.5

- type: entityTable
  id: TableDungeonLootEngineeringClothesJumpsuits
  table: !type:GroupSelector
    children:
    - !type:GroupSelector
      weight: 99
      children:
      - id: ClothingUniformJumpsuitEngineering
      - id: ClothingUniformJumpsuitMilitaryEngineering
      - id: ClothingUniformJumpsuitEngineeringHazard
      - id: ClothingUniformJumpskirtEngineering
    - !type:GroupSelector
      weight: 1
      children:
      - id: ClothingUniformJumpsuitRepairmanSyndieNF
      - id: ClothingUniformJumpsuitChiefEngineerSyndieNF

- type: entityTable
  id: TableDungeonLootEngineeringClothesJackets
  table: !type:GroupSelector
    children:
    - id: ClothingOuterVestHazard
      weight: 90
    - id: ClothingOuterWinterEngi
      weight: 10

- type: entityTable
  id: TableDungeonLootEngineeringClothesBoots
  table: !type:GroupSelector
    children:
    - id: ClothingShoesBootsWork
      weight: 90
    - id: ClothingShoesBootsWinterEngi
      weight: 10

#region EVA
- type: entityTable
  id: TableDungeonLootEngineeringEvas
  table: !type:GroupSelector
    children:
    - id: ClothingOuterEVASuitEngineer
      weight: 50
    - id: ClothingBackpackDuffelEVABundleEngineer
      weight: 5
    - id: ClothingOuterEVASuitAtmosTech
      weight: 50
    - id: ClothingBackpackDuffelEVABundleAtmosTech
      weight: 5

- type: entityTable
  id: TableDungeonLootEngineeringHardsuits
  table: !type:GroupSelector
    children:
    - id: ClothingOuterHardsuitEngineering
      weight: 50
    - id: ClothingOuterHardsuitAtmos
      weight: 50
    - id: ClothingOuterHardsuitEngineeringWhite
      weight: 5

#region Lockers
- type: entityTable
  id: TableDungeonLootEngineeringLockers
  table: !type:GroupSelector
    children:
    # spawn probabilities skewed towards empty lockers to reduce entity spam
    - !type:GroupSelector
      weight: 30
      children:
      - id: LockerEngineer
        weight: 70
      - id: LockerEngineerFilled
        weight: 30
    - !type:GroupSelector
      weight: 15
      children:
      - id: LockerAtmospherics
        weight: 70
      - id: LockerAtmosphericsFilled
        weight: 30
    - !type:GroupSelector
      weight: 5
      children:
      - id: LockerChiefEngineer
        weight: 70
      - id: LockerChiefEngineerFilled
        weight: 30
    - !type:GroupSelector
      weight: 40
      children:
      - id: LockerElectricalSupplies
        weight: 70
      - id: LockerWeldingSupplies
        weight: 70
      - id: ClosetTool
        weight: 70
      - id: LockerEvacRepair
        weight: 70
      - id: LockerElectricalSuppliesFilled
        weight: 25
      - id: LockerWeldingSuppliesFilled
        weight: 25
      - id: ClosetToolFilled
        weight: 25
      - id: LockerEvacRepairFilled
        weight: 25

- type: entityTable
  id: TableDungeonLootEngineeringSuitStorageUnits
  table: !type:GroupSelector
    children:
    # spawn probabilities skewed towards empty lockers to reduce entity spam
    - id: SuitStorageBase
      weight: 55
    - !type:GroupSelector
      weight: 20
      children:
      - id: SuitStorageEVAEngineer
      - id: SuitStorageEngi
    - !type:GroupSelector
      weight: 20
      children:
      - id: SuitStorageEVAAtmosTech
      - id: SuitStorageAtmos
    - !type:GroupSelector
      weight: 5
      children:
      - id: SuitStorageNTSRA
      - id: SuitStorageCE

#region Crates
- type: entityTable
  id: TableDungeonLootEngineeringCrates
  table: !type:GroupSelector
    children:
    - !type:NestedSelector
      tableId: TableDungeonLootEngineeringCratesEmpty
      weight: 30
    - !type:NestedSelector
      tableId: TableDungeonLootEngineeringCratesFilled
      weight: 15
    - !type:NestedSelector
      tableId: TableDungeonLootEngineeringCratesRestock
      weight: 5
    - !type:NestedSelector
      tableId: TableDungeonLootGeneralCratesMaterial
      weight: 40

- type: entityTable
  id: TableDungeonLootEngineeringCratesEmpty
  table: !type:GroupSelector
    children:
    - id: CratePlasma
    - id: CrateEngineering
    - id: CrateElectrical
    - id: CrateRadiation
    - id: CrateUranium

- type: entityTable
  id: TableDungeonLootEngineeringCratesFilled
  table: !type:GroupSelector
    children:
    # Cables
    - !type:GroupSelector
      weight: 0.1
      children:
      - id: CrateEngineeringElectricalSupplies
      - id: CrateEngineeringCableLV
      - id: CrateEngineeringCableMV
      - id: CrateEngineeringCableHV
      - id: CrateEngineeringCableBulk
    # Tools
    - !type:GroupSelector
      children:
      - id: CrateTools
      - id: CrateEngineeringToolbox
      - id: CrateEngineeringKitShipyardRcd
        weight: 0.2
    # Shuttle Parts
    - !type:GroupSelector
      children:
      - id: CrateEngineeringShuttle
      - id: CrateEngineeringSolar
      - id: CrateEngineeringThruster
      - id: CrateEngineeringGyroscope
      - id: CrateAirlockKit
      - id: CrateEngineeringKitRtg
    - id: CrateEngineeringFoamGrenade
    - id: CrateEngineeringMiniJetpack
    - id: CrateEngineeringSpaceHeater

- type: entityTable # Probably should be removed
  id: TableDungeonLootEngineeringCratesRestock
  table: !type:GroupSelector
    children:
    - id: CrateVendingMachineRestockEngineeringFilled
    - id: CrateVendingMachineRestockVendomatFilled
    - id: CrateVendingMachineRestockRoboticsFilled
    - id: CrateVendingMachineRestockAstroVendFilled
    - id: CrateVendingMachineRestockTankDispenserFilled

#region Machines
- type: entityTable
  id: TableDungeonLootEngineeringMachinesFabricators
  table: !type:GroupSelector
    children:
    # Common
    - !type:GroupSelector
      weight: 90
      children:
      - id: Autolathe
        weight: 20
      - id: EngineeringTechFab
        weight: 40
      - id: CircuitImprinter
        weight: 15
      - id: MachineFlatpacker
        weight: 20
      - id: MachineMaterialSilo
        weight: 20
      - id: CutterMachine
        weight: 10
      - id: Protolathe
        weight: 5
    # Rare
    - !type:GroupSelector
      weight: 10
      children:
      - id: AutolatheHyperConvection
        weight: 80
      - id: ProtolatheHyperConvection
        weight: 20
    - !type:NestedSelector
      tableId: TableDungeonLootGeneralFrameMachine
      weight: 5

- type: entityTable
  id: TableDungeonLootEngineeringMachinesVending
  table: !type:GroupSelector
    children:
    - id: VendingMachineAtmosDrobe
      weight: 0.3
    - id: VendingMachineEngiDrobe
      weight: 0.3
    - id: VendingMachineVendomat
    - id: VendingMachineEngivend
    - id: VendingMachineYouTool
    - id: VendingMachineFlatpackVend
      weight: 0.2
    - id: VendingMachineRobotics
      weight: 0.1
    - !type:NestedSelector
      tableId: TableDungeonLootGeneralFrameMachine
      weight: 0.03

- type: entityTable
  id: TableDungeonLootEngineeringFlatpacks
  table: !type:GroupSelector
    children:
    # Common
    - id: AutolatheFlatpack
    - id: ExosuitFabricatorFlatpack
    - id: ProtolatheFlatpack
    - id: CircuitImprinterFlatpack
    - id: EngineeringTechFabFlatpack
    - id: MaterialReclaimerFlatpack
    - id: CutterMachineFlatpack
    - id: WeaponCapacitorRechargerFlatpack
    - id: BorgChargerFlatpack
    - id: MachineFlatpackerFlatpack
    - id: MachineFlatpackerFlatpack
    - id: MaterialSiloFlatpack
    - !type:GroupSelector # TODO: add DK flatpacks
      children:
      - id: PortableGeneratorJrPacmanFlatpack
      - id: PortableGeneratorPacmanFlatpack
      - id: PortableGeneratorSuperPacmanFlatpack
      - id: GeneratorRTGFlatpack
        weight: 2
    # Rare
    - !type:GroupSelector
      weight: 0.08
      children:
      - id: RadiationCollectorFullTankFlatpack
      - id: TeslaCoilFlatpack
